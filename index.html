<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>孙欣锐专属</title>
  <style>
    /* 密码验证层（主界面，改为浅黄色） */
    .password-layer {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background: #fff9c4; /* 浅黄色背景 */
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      font-family: "Segoe UI", "Microsoft YaHei", sans-serif;
      z-index: 999;
    }

    /* 提示框（适配浅黄背景） */
    .tip-box {
      background: #ffffff;
      padding: 8px 16px;
      border-radius: 4px;
      font-size: 12px;
      color: #666;
      margin-bottom: 20px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }

    /* 标题 */
    .title {
      font-size: 24px;
      color: #333;
      margin-bottom: 30px;
      font-weight: 600;
    }

    /* 输入框容器 */
    .input-group {
      display: flex;
      flex-direction: column;
      gap: 15px;
      width: 280px;
    }

    /* 输入框（适配浅黄背景） */
    .input-group input {
      padding: 10px 15px;
      border: 1px solid #e0e0e0;
      border-radius: 6px;
      font-size: 14px;
      outline: none;
      transition: border-color 0.3s;
    }
    .input-group input[readonly] {
      background-color: #fdf8e1;
      cursor: default;
    }
    .input-group input:focus {
      border-color: #fbc02d; /* 黄色系焦点边框 */
    }

    /* 按钮（改为暖黄色） */
    .enter-btn {
      padding: 10px 0;
      border: none;
      border-radius: 6px;
      background: #fbc02d;
      color: #fff;
      font-size: 14px;
      cursor: pointer;
      transition: background 0.3s;
    }
    .enter-btn:hover {
      background: #f9a825;
    }

    /* 祝福主界面（默认隐藏） */
    .main-page {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
      overflow: hidden;
      opacity: 0;
      visibility: hidden;
      transition: opacity 0.5s, visibility 0.5s;
    }

    /* 星空、文字等原有样式 */
    .stars {
      position: absolute;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 1;
    }
    .star {
      position: absolute;
      background-color: white;
      border-radius: 50%;
      box-shadow: 0 0 6px rgba(255,255,255,0.8);
      animation: twinkle 2s infinite alternate;
    }
    .star.large {
      animation: brightTwinkle 1.5s infinite alternate;
    }
    @keyframes twinkle {
      0% { opacity: 0; transform: scale(0.8); box-shadow: 0 0 3px rgba(255,255,255,0.5); }
      100% { opacity: 1; transform: scale(1.2); box-shadow: 0 0 10px rgba(255,255,255,1); }
    }
    @keyframes brightTwinkle {
      0% { opacity: 0; transform: scale(0.7); box-shadow: 0 0 5px rgba(255,255,255,0.6); }
      100% { opacity: 1; transform: scale(1.3); box-shadow: 0 0 15px rgba(255,255,255,1); }
    }
    .floating-text {
      position: fixed;
      color: #fff;
      font-family: "Segoe UI", "Microsoft YaHei", sans-serif;
      font-weight: 600;
      pointer-events: none;
      opacity: 0;
      text-shadow: 0 2px 10px rgba(0,0,0,0.3);
      z-index: 10;
      white-space: nowrap;
    }
    .controls {
      position: fixed;
      bottom: 30px;
      left: 50%;
      transform: translateX(-50%);
      z-index: 100;
      display: flex;
      gap: 12px;
    }
    .controls button {
      padding: 10px 20px;
      border: none;
      border-radius: 8px;
      background-color: rgba(255,255,255,0.1);
      color: white;
      font-size: 14px;
      cursor: pointer;
      backdrop-filter: blur(8px);
      transition: all 0.3s;
    }
    .controls button:hover {
      background-color: rgba(255,255,255,0.2);
      transform: translateY(-2px);
    }
    .controls button.active {
      background-color: #00a8ff;
      box-shadow: 0 4px 20px rgba(0,168,255,0.4);
    }
  </style>
</head>
<body>
  <!-- 密码验证层（昵称默认“小锐”且只读） -->
  <div class="password-layer">
    <div class="tip-box">猜猜密码素...(8位)</div>
    <div class="title">祝cute锐生日快乐</div>
    <div class="input-group">
      <input type="text" id="nickname" value="小锐" readonly>
      <input type="password" id="password" placeholder="密码">
      <button class="enter-btn" id="enterBtn">进入</button>
    </div>
  </div>

  <!-- 祝福主界面 -->
  <div class="main-page" id="mainPage">
    <div class="stars" id="stars"></div>
    <div class="controls">
      <button id="start">小锐请点这</button>
      <button id="stop">停止</button>
      <button id="changeText">可以再点两下捏</button>
      <button id="clear">清空</button>
    </div>
  </div>

  <script>
    // 密码验证逻辑
    const enterBtn = document.getElementById('enterBtn');
    const passwordInput = document.getElementById('password');
    const mainPage = document.getElementById('mainPage');
    const passwordLayer = document.querySelector('.password-layer');

    enterBtn.addEventListener('click', () => {
      if (passwordInput.value === '20031102') {
        // 隐藏验证层，显示主界面
        passwordLayer.style.opacity = '0';
        setTimeout(() => {
          passwordLayer.style.display = 'none';
          mainPage.style.opacity = '1';
          mainPage.style.visibility = 'visible';
          initMainPage(); // 初始化主界面效果
        }, 500);
      } else {
        alert('密码错误');
      }
    });

    // 初始化主界面（星空+文字漂浮）
    function initMainPage() {
      // 创建星星
      const starsContainer = document.getElementById('stars');
      const starCount = 200;
      for (let i = 0; i < starCount; i++) {
        const star = document.createElement('div');
        star.className = 'star';
        let size = Math.random() < 0.2 ? Math.random()*2+3 : Math.random()*2+1;
        if (size > 3) star.classList.add('large');
        star.style.width = star.style.height = `${size}px`;
        star.style.left = `${Math.random()*100}%`;
        star.style.top = `${Math.random()*100}%`;
        star.style.animationDuration = `${Math.random()*2+1}s`;
        star.style.animationDelay = `${Math.random()*4}s`;
        starsContainer.appendChild(star);
      }

      // 文字漂浮逻辑（调整速度：出现慢+飘落慢）
      let textList = ["孙欣锐22岁生日快乐!","祝我们永远鲜活","祝健康","祝自由","祝你是你,无所谓意义"];
      const textLibrary = [textList, ["像秋一样接纳自己的繁荣与枯败"], ["你在人潮人海,值得被偏爱。"]];
      let currentTextLib = 0;
      let isFloating = false;
      let floatInterval;
      const floatSpeed = 600; // 文字生成间隔从180ms改为600ms（出现更慢）

      function createFloatingText() {
        if (!isFloating) return;
        const textEl = document.createElement('div');
        textEl.className = 'floating-text';
        textEl.innerText = textList[Math.floor(Math.random()*textList.length)];
        
        // 随机样式
        const fontSize = Math.floor(Math.random()*18+16);
        const color = ["#fff","#00a8ff","#7b66ff","#ff7d54","#4cd964"][Math.floor(Math.random()*5)];
        
        // 随机初始位置
        const startX = Math.random() * window.innerWidth;
        const startY = -50;
        
        // 随机漂浮参数 - 飘落更慢
        const driftRange = Math.random() * 100 + 50;
        const driftDirection = Math.random() > 0.5 ? 1 : -1;
        const rotationRange = Math.random() * 10 - 5;
        const duration = Math.random() * 20 + 25; // 飘落时长从15-25s改为25-45s（飘得更慢）
        const wiggleSpeed = Math.random() * 1 + 0.5; // 摆动速度减半（更舒缓）
        
        textEl.style.fontSize = `${fontSize}px`;
        textEl.style.color = color;
        textEl.style.left = `${startX}px`;
        textEl.style.top = `${startY}px`;
        
        document.getElementById('mainPage').appendChild(textEl);
        
        // 漂浮动画（保持自然轨迹，仅调慢速度）
        const start = performance.now();
        function update(currentTime) {
          if (!document.body.contains(textEl)) return;
          
          const elapsed = (currentTime - start) / 1000;
          const progress = Math.min(elapsed / duration, 1);
          
          // 垂直运动 - 缓动曲线不变，时长延长
          const verticalProgress = 1 - (1 - progress) * (1 - progress);
          const y = startY + (window.innerHeight + 150) * verticalProgress;
          
          // 横向漂移 - 速度随时长同步减慢
          const horizontalDrift = Math.sin(elapsed * wiggleSpeed) * (driftRange * (1 - progress));
          const x = startX + (driftDirection * driftRange * progress) + horizontalDrift;
          
          // 微小旋转 - 速度减慢
          const rotation = Math.sin(elapsed * wiggleSpeed) * rotationRange;
          
          // 透明度变化 - 渐入渐出时间延长（出现更慢）
          let opacity;
          if (progress < 0.3) {
            opacity = progress / 0.3; // 渐入时间从10%改为30%（3-13.5秒完成渐入）
          } else if (progress > 0.8) {
            opacity = 1 - (progress - 0.8) / 0.2; // 渐出时间不变，整体更平缓
          } else {
            opacity = 1;
          }
          
          // 应用所有变换
          textEl.style.top = `${y}px`;
          textEl.style.left = `${x}px`;
          textEl.style.opacity = opacity;
          textEl.style.transform = `rotate(${rotation}deg)`;
          
          if (progress < 1) {
            requestAnimationFrame(update);
          } else {
            textEl.remove();
          }
        }
        
        requestAnimationFrame(update);
      }

      // 按钮事件
      document.getElementById('start').addEventListener('click', () => {
        if (isFloating) return;
        isFloating = true;
        document.getElementById('start').classList.add('active');
        floatInterval = setInterval(createFloatingText, floatSpeed);
      });
      
      document.getElementById('stop').addEventListener('click', () => {
        isFloating = false;
        document.getElementById('start').classList.remove('active');
        clearInterval(floatInterval);
      });
      
      document.getElementById('changeText').addEventListener('click', () => {
        currentTextLib = (currentTextLib+1)%textLibrary.length;
        textList = textLibrary[currentTextLib];
      });
      
      document.getElementById('clear').addEventListener('click', () => {
        document.querySelectorAll('.floating-text').forEach(el => el.remove());
      });
    }
  </script>
</body>
</html>